(function(t){function e(e){for(var a,r,i=e[0],l=e[1],c=e[2],d=0,m=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,i=1;i<s.length;i++){var l=s[i];0!==o[l]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},o={app:0},n=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"2b56":function(t,e,s){"use strict";var a=s("4548"),o=s.n(a);o.a},3844:function(t,e,s){"use strict";var a=s("43ec"),o=s.n(a);o.a},"43ec":function(t,e,s){},4548:function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"gray lighten-4"},[s("NavBar"),s("v-content",{staticClass:"mx-4"},[s("router-view")],1)],1)},n=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("v-app-bar",{attrs:{app:""}},[s("v-app-bar-nav-icon",{on:{click:function(e){t.drawer=!t.drawer}}}),s("v-toolbar-title",{staticClass:"text-uppercase grey--text"},[s("span",{staticClass:"font-weight-light"},[t._v("Easy")]),s("span",[t._v("CRM")])])],1),s("v-navigation-drawer",{staticClass:"blue",attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-list",t._l(t.links,(function(e){return s("v-list-item",{key:e.text,attrs:{router:"",to:e.route}},[s("v-list-item-action",[s("v-icon",{staticClass:"white--text"},[t._v(t._s(e.icon))])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"white--text"},[t._v(t._s(e.text))])],1)],1)})),1)],1)],1)},i=[],l={name:"NavBar",data:function(){return{drawer:!1,links:[{icon:"dashboard",text:"Dashboard",route:"/"},{icon:"people",text:"Customers",route:"/customers"},{icon:"supervisor_account",text:"Users",route:"/users"},{icon:"exit_to_app",text:"Logout",route:"/logout"}]}}},c=l,u=s("2877"),d=s("6544"),m=s.n(d),v=s("40dc"),f=s("5bc1"),p=s("132d"),h=s("8860"),b=s("da13"),C=s("1800"),x=s("5d23"),w=s("f774"),_=s("2a7f"),g=Object(u["a"])(c,r,i,!1,null,null,null),y=g.exports;m()(g,{VAppBar:v["a"],VAppBarNavIcon:f["a"],VIcon:p["a"],VList:h["a"],VListItem:b["a"],VListItemAction:C["a"],VListItemContent:x["a"],VListItemTitle:x["b"],VNavigationDrawer:w["a"],VToolbarTitle:_["a"]});var N={name:"App",components:{NavBar:y},data:function(){return{}}},V=N,k=s("7496"),L=s("a75b"),P=Object(u["a"])(V,o,n,!1,null,null,null),j=P.exports;m()(P,{VApp:k["a"],VContent:L["a"]});var D=s("8c4f"),E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashboard"},[s("br"),s("h1",{staticClass:"display-3 font-weight-bold"},[t._v("Dashboard")]),s("br"),s("v-card",{staticClass:"mx-auto"},[s("v-card-title",{staticClass:"display-3"},[t._v("Status")]),s("div",[s("v-card-text",{staticClass:"Total display-1"},[t._v("Total Customers: "+t._s(t.totalCustomers))]),s("br"),s("v-card-text",{staticClass:"WonStyle display-1"},[t._v("Won: "+t._s(t.customersWon))]),s("br"),s("v-card-text",{staticClass:"PendingStyle display-1"},[t._v("Pending: "+t._s(t.customersPending))]),s("br"),s("v-card-text",{staticClass:"LostStyle display-1"},[t._v("Lost: "+t._s(t.customersLost))])],1)],1),s("v-container",{staticClass:"my-5"})],1)},S=[],F=(s("a9e3"),s("d3b7"),function(){return fetch("https://fathomless-anchorage-97465.herokuapp.com/customers")}),I={data:function(){return{totalCustomers:Number,customersWon:0,customersLost:0,customersPending:0,customers:[],greenColor:"#198833"}},methods:{showCustomers:function(){var t=this;F().then((function(e){e.json().then((function(e){console.log("Customers List:",e),t.customers=e,t.totalCustomers=t.customers.length;for(var s=0;s<t.customers.length;s++)"Won"==t.customers[s].status&&(t.customersWon+=1),"Pending"==t.customers[s].status&&(t.customersPending+=1),"Lost"==t.customers[s].status&&(t.customersLost+=1)}))}))}},created:function(){console.log("Vue loaded!"),this.showCustomers()}},O=I,T=(s("2b56"),s("b0af")),$=s("99d9"),U=s("a523"),R=Object(u["a"])(O,E,S,!1,null,null,null),A=R.exports;m()(R,{VCard:T["a"],VCardText:$["c"],VCardTitle:$["d"],VContainer:U["a"]});var q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-container",{staticClass:"my-6"},[s("h1",[t._v("Customers")]),s("v-dialog",{attrs:{persistent:"","max-width":"800"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("div",{staticClass:"text-right text--justify pb-4"},[s("v-btn",{attrs:{dark:"",color:"blue"}},[s("v-icon",t._g({attrs:{large:""}},a),[t._v("mdi-plus")])],1)],1)]}}]),model:{value:t.createDialog,callback:function(e){t.createDialog=e},expression:"createDialog"}},[s("v-form",{ref:"form1",model:{value:t.isFormValid,callback:function(e){t.isFormValid=e},expression:"isFormValid"}},[s("v-card",{staticClass:"justify-center"},[s("v-card-title",{staticClass:"justify-center"},[t._v("Create a new customer")]),s("v-card-subtitle",{staticClass:"text-left"},[t._v("* Required")]),s("v-text-field",{attrs:{rules:[t.rules.required],label:"*First name:",filled:""},model:{value:t.newFirstName,callback:function(e){t.newFirstName=e},expression:"newFirstName"}}),s("v-text-field",{attrs:{rules:[t.rules.required],label:"*Last name:",filled:""},model:{value:t.newLastName,callback:function(e){t.newLastName=e},expression:"newLastName"}}),s("v-text-field",{attrs:{rules:[t.rules.required,t.rules.email],label:"*Email:",filled:""},model:{value:t.newEmail,callback:function(e){t.newEmail=e},expression:"newEmail"}}),s("v-text-field",{attrs:{rules:[t.rules.required],label:"*Phone:",filled:""},model:{value:t.newPhone,callback:function(e){t.newPhone=e},expression:"newPhone"}}),s("v-text-field",{attrs:{label:"Note:",filled:""},model:{value:t.newNote,callback:function(e){t.newNote=e},expression:"newNote"}}),s("v-card-actions",{staticClass:"justify-center"},[s("v-btn",{staticClass:"white--text",attrs:{color:"blue",disabled:!t.isFormValid},on:{click:function(e){return t.createNewCustomer()}}},[t._v("Submit")])],1),s("v-card-actions",{staticClass:"justify-center"},[s("v-btn",{attrs:{text:"",color:"red"},on:{click:function(e){t.resetValidation,t.createDialog=!1}}},[t._v("Cancel")])],1)],1)],1)],1),s("v-container",{staticClass:"overflow-x-auto",staticStyle:{"max-height":"600px"}},t._l(t.customers,(function(e){return s("v-card",{key:e._id,staticClass:"mb-3"},[s("v-layout",{class:"pa-3 customer "+e.status,attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs10:"",md3:""}},[s("div",{staticClass:"grey--text"},[t._v("Customer Name")]),s("div",[t._v(t._s(e.firstName)+" "+t._s(e.lastName))])]),s("v-flex",{attrs:{xs5:"",sm4:"",md2:""}},[s("div",{staticClass:"grey--text"},[t._v("Email")]),s("div",[t._v(t._s(e.email))])]),s("v-flex",{attrs:{xs5:"",sm4:"",md2:""}},[s("div",{staticClass:"grey--text"},[t._v("Phone")]),s("div",[t._v(t._s(e.phone))])]),s("v-flex",{attrs:{xs2:"",sm4:"",md2:""}},[s("div",{staticClass:"grey--text"},[t._v("Status")]),s("div",[t._v(t._s(e.status))])]),s("v-flex",{attrs:{xs2:"",sm4:"",md2:""}},[s("v-dialog",{attrs:{"retain-focus":!1,"max-width":"800px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({},a),[t._v("Edit")])]}}],null,!0),model:{value:e.editDialog,callback:function(s){t.$set(e,"editDialog",s)},expression:"customer.editDialog"}},[s("v-card",[s("v-card-title",[s("span",[t._v("Customer Edit")])]),s("v-text-field",{staticClass:"pl-2",attrs:{label:"First Name:"},model:{value:e.firstName,callback:function(s){t.$set(e,"firstName",s)},expression:"customer.firstName"}}),s("v-text-field",{staticClass:"pl-2",attrs:{label:"Last Name:"},model:{value:e.lastName,callback:function(s){t.$set(e,"lastName",s)},expression:"customer.lastName"}}),s("v-text-field",{staticClass:"pl-2",attrs:{label:"Email:"},model:{value:e.email,callback:function(s){t.$set(e,"email",s)},expression:"customer.email"}}),s("v-text-field",{staticClass:"pl-2",attrs:{label:"Phone:"},model:{value:e.phone,callback:function(s){t.$set(e,"phone",s)},expression:"customer.phone"}}),s("span",{staticClass:"ml-2"},[t._v("Status:")]),s("v-overflow-btn",{attrs:{items:t.status_options,label:"Status"},model:{value:e.status,callback:function(s){t.$set(e,"status",s)},expression:"customer.status"}}),s("v-card-actions",{staticClass:"justify-center"},[s("v-btn",{staticClass:"justify-center",attrs:{dark:"",color:"blue"},on:{click:function(s){e.editDialog=!1,t.editExistingCustomer(e._id,e.firstName,e.lastName,e.email,e.phone,e.status)}}},[t._v("Save")]),s("v-btn",{on:{click:function(t){e.editDialog=!1}}},[t._v("Cancel")])],1)],1)],1),s("v-dialog",{attrs:{"max-width":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-flex",{attrs:{xs2:"",sm4:"",md2:""}},[s("v-btn",t._g({staticClass:"mb-6 mt-3"},a),[t._v("Delete")])],1)]}}],null,!0),model:{value:e.deleteDialog,callback:function(s){t.$set(e,"deleteDialog",s)},expression:"customer.deleteDialog"}},[s("v-card",[s("v-card-title",{staticClass:"justify-center"},[s("span",{staticClass:"red--text"},[t._v("Are you sure you want to delete "+t._s(e.firstName)+" "+t._s(e.lastName)+"?")])]),s("v-card-actions",{staticClass:"justify-center"},[s("v-btn",{on:{click:function(s){e.deleteDialog=!1,t.deleteCustomer(e._id)}}},[t._v("Confirm")]),s("v-btn",{on:{click:function(t){e.deleteDialog=!1}}},[t._v("Cancel")])],1)],1)],1)],1),s("div",{staticClass:"pt-12 mr-2"},[s("v-form",{ref:"form",refInFor:!0,model:{value:t.isNoteFormValid,callback:function(e){t.isNoteFormValid=e},expression:"isNoteFormValid"}},[s("v-text-field",{attrs:{error:!1,rules:[t.rules.required],label:"New Note"},model:{value:e.addedNote,callback:function(s){t.$set(e,"addedNote",s)},expression:"customer.addedNote"}}),s("v-btn",{staticClass:"ml-8 white--text",attrs:{small:"",color:"blue",disabled:!t.isNoteFormValid},on:{click:function(s){return t.addNewNote(e._id,e.addedNote)}}},[t._v("Add Note")])],1)],1),s("div",[s("header",{staticClass:"grey--text pt-2 title"},[t._v("Customer Notes:")]),s("v-list",{staticClass:"overflow-x-auto",staticStyle:{"max-height":"200px"}},t._l(e.notes,(function(a){return s("v-list-item",{key:a.id},[s("p",{staticClass:"overflow-y-auto"},[t._v(" "+t._s(a)+" "),s("v-btn",{attrs:{small:"",text:"",fab:""},on:{click:function(s){t.deleteNote(e._id,e.notes.indexOf(a))}}},[s("v-icon",{attrs:{color:"red"}},[t._v("remove_circle")])],1)],1)])})),1)],1)],1),s("v-divider")],1)})),1)],1)],1)},B=[],W=function(t,e,s,a,o,n){var r="firstName=".concat(encodeURIComponent(t));return r+="&lastName=".concat(encodeURIComponent(e)),r+="&email=".concat(encodeURIComponent(s)),r+="&phone=".concat(encodeURIComponent(a)),r+="&notes=".concat(encodeURIComponent(o)),r+="&status=".concat(encodeURIComponent(n)),fetch("https://fathomless-anchorage-97465.herokuapp.com/customers",{body:r,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},M=function(t,e,s,a,o,n){var r="firstName=".concat(encodeURIComponent(e));return r+="&lastName=".concat(encodeURIComponent(s)),r+="&email=".concat(encodeURIComponent(a)),r+="&phone=".concat(encodeURIComponent(o)),r+="&status=".concat(encodeURIComponent(n)),fetch("https://fathomless-anchorage-97465.herokuapp.com/customers/"+t,{body:r,method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},z=function(t,e){var s="note=".concat(encodeURIComponent(e));return fetch("https://fathomless-anchorage-97465.herokuapp.com/customers/"+t+"/notes",{body:s,method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},J=function(t){return fetch("https://fathomless-anchorage-97465.herokuapp.com/customers/"+t,{method:"DELETE"})},Z=function(t,e){return fetch("https://fathomless-anchorage-97465.herokuapp.com/customers/"+t+"/"+e,{method:"DELETE"})},G=function(){return fetch("https://fathomless-anchorage-97465.herokuapp.com/customers")},H={data:function(){return{newFirstName:"",newLastName:"",newEmail:"",newPhone:"",newNote:"",addedNote:"",newStatus:"Pending",isFormValid:!1,isNoteFormValid:!1,rules:{required:function(t){return!!t||"Required."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail."}},createDialog:!1,deleteDialog:!1,editDialog:!1,status_options:["Won","Lost","Pending"],customers:[],totalCustomers:Number}},methods:{validate:function(){this.$refs.form.validate()&&(this.snackbar=!0)},reset:function(){this.$refs.form.reset(),console.log(this.formObject)},resetValidation:function(){this.$refs.form.resetValidation()},showCustomers:function(){var t=this;G().then((function(e){e.json().then((function(e){console.log("Customers List:",e),t.customers=e,t.totalCustomers=t.customers.length}))}))},deleteNote:function(t,e){var s=this;Z(t,e).then((function(t){202==t.status&&s.showCustomers()}))},addNewNote:function(t,e){var s=this;z(t,e).then((function(t){202==t.status&&(s.reset,s.showCustomers())}))},deleteCustomer:function(t){var e=this;J(t).then((function(t){200==t.status&&e.showCustomers()}))},checkEmail:function(t){for(var e=!1,s=0;s<this.customers.length;s)return t==this.customers[s].email||(e=!1,e)},createNewCustomer:function(){var t=this;W(this.newFirstName,this.newLastName,this.newEmail,this.newPhone,this.newNote,this.newStatus).then((function(e){201==e.status&&(t.resetValidation,t.createDialog=!1,t.newFirstName="",t.newLastName="",t.newEmail="",t.newPhone="",t.newNote="",t.showCustomers())}))},editExistingCustomer:function(t,e,s,a,o,n){var r=this;M(t,e,s,a,o,n).then((function(t){202==t.status&&r.showCustomers()}))}},created:function(){console.log("Vue loaded!"),this.showCustomers()}},K=H,Q=(s("3844"),s("8336")),X=s("169a"),Y=s("ce7e"),tt=s("0e8f"),et=s("4bd4"),st=s("a722"),at=s("de8e"),ot=s("8654"),nt=Object(u["a"])(K,q,B,!1,null,null,null),rt=nt.exports;m()(nt,{VApp:k["a"],VBtn:Q["a"],VCard:T["a"],VCardActions:$["a"],VCardSubtitle:$["b"],VCardTitle:$["d"],VContainer:U["a"],VDialog:X["a"],VDivider:Y["a"],VFlex:tt["a"],VForm:et["a"],VIcon:p["a"],VLayout:st["a"],VList:h["a"],VListItem:b["a"],VOverflowBtn:at["a"],VTextField:ot["a"]});var it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"users"},[s("h1",[t._v("Users")]),s("v-container",{staticClass:"my-5"},[t._v(" content ")])],1)},lt=[],ct={},ut=ct,dt=Object(u["a"])(ut,it,lt,!1,null,null,null),mt=dt.exports;m()(dt,{VContainer:U["a"]}),a["a"].use(D["a"]);var vt=[{path:"/",name:"dashboard",component:A},{path:"/customers",name:"customers",component:rt},{path:"/users",name:"users",component:mt}],ft=new D["a"]({mode:"history",base:"/",routes:vt}),pt=ft,ht=s("f309");a["a"].use(ht["a"]);var bt=new ht["a"]({});s("d1e78");a["a"].config.productionTip=!1,new a["a"]({router:pt,vuetify:bt,render:function(t){return t(j)}}).$mount("#app")}});
//# sourceMappingURL=app.e85bea7c.js.map